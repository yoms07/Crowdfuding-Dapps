specVersion: 0.0.5
description: 'example of a subgraph'
repository: https://github.com/graphprotocol/graph-tooling.git
schema:
  file: ./schema.graphql
dataSources:
- kind: ethereum/contract
  name: Gravity
  network: localhost
  source:
    address: '0x5FbDB2315678afecb367f032d93F642f64180aa3'
    abi: Gravity
  mapping:
    kind: ethereum/events
    apiVersion: 0.0.7
    language: wasm/assemblyscript
    file: ./src/mapping.ts
    entities:
    - Gravity
    abis:
    - name: Gravity
      file: ./abis/Gravity.json
    eventHandlers:
    - event: NewGravatar(uint256,address,string,string)
      handler: handleNewGravatar
    - event: UpdatedGravatar(uint256,address,string,string)
      handler: handleUpdateGravatar
- kind: ethereum/contract
  name: KBFactory
  network: localhost
  source:
    address: '0x5FbDB2315678afecb367f032d93F642f64180aa3'
    abi: KBFactory
  mapping:
    kind: ethereum/events
    apiVersion: 0.0.7
    language: wasm/assemblyscript
    file: ./src/mapping.ts
    entities:
    - Crowdfunding
    - CrowdfundingMetadata
    abis:
    - name: Crowdfunding
      file: ./abis/Crowdfunding.json
    - name: KBFactory
      file: ./abis/KBFactory.json
    eventHandlers:
    - event: CrowdfundingCreated(address,string,uint256,uint256)
      handler: handleCrowdfundingCreated
templates:
- name: CrowdfundingMetadata
  kind: file/ipfs
  mapping:
    apiVersion: 0.0.7
    language: wasm/assemblyscript
    file: ./src/mapping.ts
    handler: handleMetadata
    entities:
    - CrowdfundingMetadata
    abis:
    - name: Crowdfunding
      file: ./abis/Crowdfunding.json
- name: Crowdfunding
  kind: ethereum/contract
  network: localhost
  source:
    abi: Crowdfunding
  mapping:
    kind: ethereum/events
    apiVersion: 0.0.7
    language: wasm/assemblyscript
    file: ./src/crowdfundingMapping.ts
    entities:
    - Crowdfunding
    - CrowdfundingContribution
    - CrowdfundingBurning
    abis:
    - name: Crowdfunding
      file: ./abis/Crowdfunding.json
    eventHandlers:
    - event: ContributionAdded(address,(address,uint256,uint256),bool)
      handler: handleContributionAdded
    - event: Withdraw(address,(address,uint256,uint256))
      handler: handleWithdraw
